# Generated by Chef - do not edit - changes will be overwritten

# Generated by Percona Configuration Wizard (http://tools.percona.com/) version REL5-20120208
# Configuration name bigpoint generated for t.winkler@bigpoint.net at 2014-01-10 11:08:30

[mysql]
# CLIENT #
port = <%= node['bp-percona']['port'] %>
socket = <%= node['bp-percona']['socket'] %>
default-character-set = <%= node['bp-percona']['default-character-set'] %>
[mysqld]
# GENERAL #
user = <%= node['bp-percona']['user'] %>
bind-address = <%= node['bp-percona']['bind-address'] %>
default-storage-engine = <%= node['bp-percona']['default-storage-engine'] %>
socket = <%= node['bp-percona']['socket'] %>
pid-file = <%= node['bp-percona']['pid-file'] %>
character-set-server = <%= node['bp-percona']['character-set-server'] %>
collation-server = <%= node['bp-percona']['collation-server'] %>
<% if node['bp-percona']['version'] != '5.5' %>
explicit-defaults-for-timestamp = <%= node['bp-percona']['explicit-defaults-for-timestamp'] %>
<% end %>
innodb-file-format = <%= node['bp-percona']['innodb-file-format'] %>
<% if ! node['bp-percona']['init-connect'].nil? && node['bp-percona']['init-connect'] != '' %>
init-connect = '<%= node['bp-percona']['init-connect'] %>'
<% end %>
<% unless node['bp-percona']['read-only'].nil? %>
read_only = <%= node['bp-percona']['read-only'] %>
<% end %>
# MyISAM #
key-buffer-size = <%= node['bp-percona']['key-buffer-size'] %>
myisam-recover-options = <%= node['bp-percona']['myisam-recover-options'] %>
# SAFETY #
max-allowed-packet = <%= node['bp-percona']['max-allowed-packet'] %>
max-connect-errors = <%= node['bp-percona']['max-connect-errors'] %>
server-id = <%= node['bp-percona']['server-id'] %>
# DATA STORAGE #
datadir = <%= node['bp-percona']['datadir'] %>
# BINARY LOGGING #
<% unless node['bp-percona']['log-bin'].nil? %>
log-bin = <%= node['bp-percona']['log-bin'] %>
expire-logs-days = <%= node['bp-percona']['expire-logs-days'] %>
sync-binlog = <%= node['bp-percona']['sync-binlog'] %>
max-binlog-size = <%= node['bp-percona']['max-binlog-size'] %>
<% unless node['bp-percona']['binlog-format'].nil? %>
binlog_format = <%= node['bp-percona']['binlog-format'] %>
<% end %>
<% unless node['bp-percona']['log-slave-updates'].nil? %>
log-slave-updates = <%= node['bp-percona']['log-slave-updates'] %>
<% end %>
<% end %>
# REPLICATION #
<% unless node['bp-percona']['replicate-do-db'].nil? %>
<% @node['bp-percona']['replicate-do-db'].each do |db| %>
replicate-do-db = <%= db %>
<% end %>
<% end %>
<% unless node['bp-percona']['replicate-ignore-db'].nil? %>
<% @node['bp-percona']['replicate-ignore-db'].each do |db| %>
replicate-ignore-db = <%= db %>
<% end %>
<% end %>
# CACHES AND LIMITS #
tmp-table-size = <%= node['bp-percona']['tmp-table-size'] %>
max-heap-table-size = <%= node['bp-percona']['max-heap-table-size'] %>
query-cache-type = <%= node['bp-percona']['query-cache-type'] %>
query-cache-size = <%= node['bp-percona']['query-cache-size'] %>
max-connections = <%= node['bp-percona']['max-connections'] %>
thread-cache-size = <%= node['bp-percona']['thread-cache-size'] %>
open-files-limit = <%= node['bp-percona']['open-files-limit'] %>
table-definition-cache = <%= node['bp-percona']['table-definition-cache'] %>
table-open-cache = <%= node['bp-percona']['table-open-cache'] %>
# INNODB #
innodb-flush-method = <%= node['bp-percona']['innodb-flush-method'] %>
innodb-log-files-in-group = <%= node['bp-percona']['innodb-log-files-in-group'] %>
innodb-log-file-size = <%= node['bp-percona']['innodb-log-file-size'] %>
innodb-flush-log-at-trx-commit = <%= node['bp-percona']['innodb-flush-log-at-trx-commit'] %>
innodb-file-per-table = <%= node['bp-percona']['innodb-file-per-table'] %>
<% if ! node['bp-percona']['innodb-buffer-pool-size'].nil? %>
innodb-buffer-pool-size = <%= node['bp-percona']['innodb-buffer-pool-size'] %>
<% end %>
# ADDITIONAL
innodb-io-capacity = <%= node['bp-percona']['innodb-io-capacity'] %>
<% if node['bp-percona']['skip-name-resolve'] %>
skip-name-resolve
<% end %>
# LOGGING #
log-error = <%= node['bp-percona']['log-error'] %>
log-queries-not-using-indexes = <%= node['bp-percona']['log-queries-not-using-indexes'] %>
slow-query-log = <%= node['bp-percona']['slow-query-log'] %>
slow-query-log-file = <%= node['bp-percona']['slow-query-log-file'] %>
# AUDIT LOGGING #
<% unless node['bp-percona']['audit-log-strategy'].nil? %>
audit_log_strategy = <%= node['bp-percona']['audit-log-strategy'] %>
<% end %>
<% unless node['bp-percona']['audit-log-file'].nil? %>
audit_log_file = <%= node['bp-percona']['audit-log-file'] %>
<% end %>
<% unless node['bp-percona']['audit-log-flush'].nil? %>
audit_log_flush = <%= node['bp-percona']['audit-log-flush'] %>
<% end %>
<% unless node['bp-percona']['audit-log-buffer-size'].nil? %>
audit_log_buffer_size = <%= node['bp-percona']['audit-log-buffer-size'] %>
<% end %>
<% unless node['bp-percona']['audit-log-format'].nil? %>
audit_log_format = <%= node['bp-percona']['audit-log-format'] %>
<% end %>
<% unless node['bp-percona']['audit-log-policy'].nil? %>
audit_log_policy = <%= node['bp-percona']['audit-log-policy'] %>
<% end %>
<% unless node['bp-percona']['audit-log-rotate-on-size'].nil? %>
audit_log_rotate_on_size = <%= node['bp-percona']['audit-log-rotate-on-size'] %>
<% end %>
<% unless node['bp-percona']['audit-log-rotations'].nil? %>
audit_log_rotations = <%= node['bp-percona']['audit-log-rotations'] %>
<% end %>
<% unless node['bp-percona']['audit-log-handler'].nil? %>
audit_log_handler = <%= node['bp-percona']['audit-log-handler'] %>
<% end %>
<% unless node['bp-percona']['audit-log-syslog-ident'].nil? %>
audit_log_syslog_ident = <%= node['bp-percona']['audit-log-syslog-ident'] %>
<% end %>
<% unless node['bp-percona']['audit-log-syslog-facility'].nil? %>
audit_log_syslog_facility = <%= node['bp-percona']['audit-log-syslog-facility'] %>
<% end %>
<% unless node['bp-percona']['audit-log-syslog-priority'].nil? %>
audit_log_syslog_priority = <%= node['bp-percona']['audit-log-syslog-priority'] %>
<% end %>
# SSL #
<% if node['bp-percona']['ssl'] %>
ssl-ca=/etc/mysql/cacert.pem
ssl-cert=/etc/mysql/server-cert.pem
ssl-key=/etc/mysql/server-key.pem
<% end %>
# SQL MODE #
<% unless node['bp-percona']['sql_mode'].nil? %>
sql_mode = <%= node['bp-percona']['sql_mode'] %>
<% end %>
# FULLTEXT #
<% unless node['bp-percona']['ft_stopword_file'].nil? %>
ft_stopword_file = <%= node['bp-percona']['ft_stopword_file'] %>
<% end %>
<% unless node['bp-percona']['ft_min_word_len'].nil? %>
ft_min_word_len = <%= node['bp-percona']['ft_min_word_len'] %>
<% end %>
<% unless node['bp-percona']['ft_boolean_syntax'].nil? %>
ft_boolean_syntax = <%= node['bp-percona']['ft_boolean_syntax'] %>
<% end %>
